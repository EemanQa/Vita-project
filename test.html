<!-- Right Side: Form -->
<section class="p-6 md:p-8">
  <h2 class="text-2xl font-semibold mb-6">Take the first step toward VITA SEC-530 compliance today.</h2>
  
  <form id="basicPlanForm" class="space-y-5">
    <div>
      <input type="text" name="name" placeholder="Full Name" class="w-full border p-3 rounded">
      <small class="text-red-600 hidden"></small>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <input type="email" name="email" placeholder="Email" class="w-full border p-3 rounded">
        <small class="text-red-600 hidden"></small>
      </div>
      <div>
        <input type="tel" name="phone" placeholder="Phone Number" class="w-full border p-3 rounded">
        <small class="text-red-600 hidden"></small>
      </div>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <input type="text" name="company" placeholder="Company / Organization" class="w-full border p-3 rounded">
        <small class="text-red-600 hidden"></small>
      </div>
      <div>
        <input type="text" name="role" placeholder="Job Title / Role" class="w-full border p-3 rounded">
        <small class="text-red-600 hidden"></small>
      </div>
    </div>

    <div>
      <input type="date" name="meeting-date" class="w-full border p-3 rounded">
      <small class="text-red-600 hidden"></small>
    </div>

    <!-- ✅ Submit button -->
    <button type="submit" class="w-full bg-blue-600 text-white py-3 rounded font-semibold hover:opacity-90">
      Submit
    </button>
  </form>
</section>

<!-- ✅ Inline JS (for testing) -->
<script>
document.addEventListener("DOMContentLoaded", function () {
  const form = document.getElementById("basicPlanForm");
  const today = new Date().toISOString().split("T")[0];
  form.querySelector("input[name='meeting-date']").setAttribute("min", today);

  function showError(input, msg) {
    const small = input.parentElement.querySelector("small");
    small.innerText = msg;
    small.classList.remove("hidden");
    input.classList.add("border-red-600");
  }
  function clearError(input) {
    const small = input.parentElement.querySelector("small");
    small.innerText = "";
    small.classList.add("hidden");
    input.classList.remove("border-red-600");
  }

  form.addEventListener("submit", function (e) {
    e.preventDefault();
    let valid = true;

    const name = form.querySelector("input[name='name']");
    const email = form.querySelector("input[name='email']");
    const phone = form.querySelector("input[name='phone']");
    const company = form.querySelector("input[name='company']");
    const role = form.querySelector("input[name='role']");
    const date = form.querySelector("input[name='meeting-date']");

    if (name.value.trim().length < 3) { showError(name, "At least 3 characters."); valid = false; } else clearError(name);
    if (!/^[^ ]+@[^ ]+\.[a-z]{2,}$/i.test(email.value.trim())) { showError(email, "Enter valid email."); valid = false; } else clearError(email);
    if (!/^[0-9]{7,15}$/.test(phone.value.trim())) { showError(phone, "7–15 digits."); valid = false; } else clearError(phone);
    if (company.value.trim() === "") { showError(company, "Required."); valid = false; } else clearError(company);
    if (role.value.trim() === "") { showError(role, "Required."); valid = false; } else clearError(role);
    if (date.value === "" || date.value < today) { showError(date, "Pick valid date."); valid = false; } else clearError(date);

    if (valid) {
      alert("Form submitted successfully!");
      form.reset();
    }
  });
});
</script>
